@using System
@using Sandbox;
@using Sandbox.MenuSystem;
@using Sandbox.UI;

@attribute [StyleSheet("/UI/Menu/Lobby/LobbyPage.razor.scss")]
@inherits Panel;
@namespace TFS2.Menu

@if (Game.Menu.Lobby == null)
    return;

<root>
    <PackageList ShowFilters="@true" style="padding-bottom: 50px;" Query="type:map sort:popular ref:amper.tfs2" OnSelected="@OnPackageSelected" Take=@(50)></PackageList>
</root>

@code
{
    void OnPackageSelected( Package package )
    {
        Game.Menu.Lobby.Map = package.FullIdent;
        this.Navigate( "/lobby" );
    }
}
